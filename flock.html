<!DOCTYPE HTML>
<html>
<head>
<script type="text/javascript">

function animate(){
  canvas = document.getElementById('mycanvas');
  ctx = canvas.getContext('2d');
  ctx.canvas.width = window.innerWidth;
  ctx.canvas.height = window.innerHeight;
  radius = 2;
  direction = Math.random() * Math.PI * 2;
  boids = [];
  for(i = 0; i < 1000; i++){
    var b = new Boid(Math.random() * canvas.width, Math.random() * canvas.height, radius, direction);
    boids[i] = b;
}
  setInterval(drawShape, 10);
}

function drawShape(){
  // Get the canvas element using the DOM
  
  // Make sure we don't execute when canvas isn't supported
  if (canvas.getContext){
    ctx = canvas.getContext('2d');
  ctx.canvas.width = window.innerWidth;
  ctx.canvas.height = window.innerHeight;
  
    // use getContext to use the canvas for drawing
    
    for(i = 0; i < 1000; i++){
      var b = boids[i];
      b.x_pos = b.x_pos + Math.cos(b.direction)
      b.y_pos = b.y_pos + Math.sin(b.direction)
      b.direction = b.direction + Math.random() - 0.5;
      // Draw shapes
      ctx.beginPath();
      ctx.arc(b.x_pos, b.y_pos, b.radius, 0, 2 * Math.PI, false);
      ctx.fillStyle = 'green';
      ctx.fill();
    }

  } else {
    alert('You need Safari or Firefox 1.5+ to see this demo.');
  }
}

function Boid(x_pos, y_pos, radius, direction){
  this.x_pos = x_pos;
  this.y_pos = y_pos;
  this.radius = radius;
  this.direction = direction;
}


</script>
</head>
<body onload="animate();">
   <canvas id="mycanvas"></canvas>
</body>
</html>